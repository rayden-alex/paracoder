defaults:
  # https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files.property-placeholders

  bitrate: "192"
  # https://wiki.hydrogenaud.io/index.php?title=Bitrate#Equivalent_bitrate_estimates_for_multichannel_audio
  # The following function gives you a weight w for each cc, where cc is the channel configuration written as a decimal number (1.0 for mono, 2.0 for stereo, 5.1 for surround, etc.):
  # w(cc) = cc^0.75
  # For 5.1 multichannel audio equivalent bitrate is 192 * w(5.1)/w(2.0) = 192 * (5.1/2.0)^0.75 = 387 kbps (~384 kbps)


pattern:
  fileExtensions:
    - flac
#    - m4a
    - wav
    - ape
    - dts
    - wv
    - w64 
    - aiff

  commandTemplate:
    flac: >-
      "c:\Rip\opus-tools\opusenc.exe" --quiet --music --vbr --bitrate ${defaults.bitrate:192} "{{F}}" "{{D}}{{P}}{{N}}.opus"
    wav: >-
      "c:\Rip\opus-tools\opusenc.exe" --quiet --music --vbr --bitrate ${defaults.bitrate:192} "{{F}}" "{{D}}{{P}}{{N}}.opus"
    any: >-
      "c:\Rip\ffmpeg\bin\ffmpeg.exe" -hide_banner -loglevel error -nostats -nostdin -i "{{F}}" -c:v copy -c:a flac -f flac - | "c:\Rip\opus-tools\opusenc.exe" --quiet --music --vbr --bitrate ${defaults.bitrate:192} - "{{D}}{{P}}{{N}}.opus"
